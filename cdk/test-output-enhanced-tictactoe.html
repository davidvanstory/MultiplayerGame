<!DOCTYPE html>
<html>
<head>
  <title>Tic Tac Toe</title>
  <style>
    .board { display: grid; grid-template-columns: repeat(3, 100px); gap: 5px; }
    .cell { width: 100px; height: 100px; border: 1px solid #333; cursor: pointer; font-size: 36px; text-align: center; line-height: 100px; }
    .status { margin: 20px 0; font-size: 20px; }
  </style>
</head>
<body>
  <h1>Tic Tac Toe</h1>
  <div class="status">Player <span id="currentPlayer" data-game-state="player">X</span>'s turn</div>
  <div class="board" id="board" data-game-state="board"></div>
  <button onclick="resetGame()" data-game-action="button">Reset Game</button>
  <div>Score: <span id="score" data-game-state="score">0</span></div>
  <script>
    let board = Array(9).fill(null);
    let currentPlayer = 'X';
    let score = 0;
    
    function initBoard() {
      const boardEl = document.getElementById('board');
      for (let i = 0; i < 9; i++) {
        const cell = document.createElement('div');
        cell.className = 'cell';
        cell.dataset.index = i;
        cell.onclick = () => makeMove(i);
        boardEl.appendChild(cell);
      }
    }
    
    function makeMove(index) {
      if (board[index]) return;
      board[index] = currentPlayer;
      updateDisplay();
      if (checkWin()) {
        alert(currentPlayer + ' wins!');
        score++;
        document.getElementById('score').textContent = score;
        resetGame();
      } else {
        currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
        document.getElementById('currentPlayer').textContent = currentPlayer;
      }
    }
    
    function checkWin() {
      const lines = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
      return lines.some(line => {
        const [a,b,c] = line;
        return board[a] && board[a] === board[b] && board[a] === board[c];
      });
    }
    
    function updateDisplay() {
      document.querySelectorAll('.cell').forEach((cell, i) => {
        cell.textContent = board[i] || '';
      });
    }
    
    function resetGame() {
      board = Array(9).fill(null);
      currentPlayer = 'X';
      updateDisplay();
    }
    
    initBoard();
  </script>
</body>
</html>